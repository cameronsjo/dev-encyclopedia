---
title: AS/400
aliases:
  - IBM i
  - iSeries
  - System i
  - IBM Midrange
tags:
  - language
  - legacy
  - mainframe
  - enterprise
  - ibm
type: reference
status: complete
created: "2025-12-16"
---

# AS/400 (IBM i)

IBM's integrated midrange system combining hardware, OS, database, and security — known for extreme reliability and backwards compatibility.

## Overview

| Aspect | Details |
|--------|---------|
| **Original Name** | AS/400 (Application System/400) |
| **Current Name** | IBM i (on Power Systems) |
| **First Released** | 1988 |
| **Architecture** | Single-Level Storage, object-based |
| **Database** | DB2 for i (integrated) |
| **Primary Languages** | RPG, COBOL, CL, SQL |
| **Market** | SMB to enterprise, manufacturing, distribution |

## Name Evolution

| Era | Name | Hardware |
|-----|------|----------|
| 1988-2000 | AS/400 | CISC (IMPI), then PowerPC |
| 2000-2006 | iSeries | POWER4/5 |
| 2006-2008 | System i | POWER5/6 |
| 2008-present | IBM i | Power Systems (shared with AIX) |

## Architecture

### Single-Level Storage

**Unique memory model** — All storage appears as one address space.

```
┌─────────────────────────────────────────┐
│         Single-Level Storage            │
│  ┌─────────────────────────────────┐   │
│  │    Virtual Address Space        │   │
│  │    (All objects addressable)    │   │
│  └─────────────────────────────────┘   │
│              ↕                          │
│  ┌──────────┐  ┌──────────────────┐    │
│  │   RAM    │  │   Disk Storage   │    │
│  └──────────┘  └──────────────────┘    │
│         (System manages movement)       │
└─────────────────────────────────────────┘
```

**Benefits:**

- No file system in traditional sense
- Objects persist automatically
- No manual memory management
- Simplified programming model

### Object-Based Architecture

**Everything is an object** with type and attributes.

| Object Type | Code | Description |
|-------------|------|-------------|
| **\*PGM** | Program | Compiled executable |
| **\*FILE** | File | Physical/Logical file (database) |
| **\*DTAARA** | Data Area | Shared data storage |
| **\*USRSPC** | User Space | Raw memory area |
| **\*MSGQ** | Message Queue | Inter-process communication |
| **\*JOBD** | Job Description | Job attributes |
| **\*LIB** | Library | Object container |

### Machine Interface (MI)

**Hardware abstraction layer** — Programs compile to MI, not native code.

```
┌─────────────────┐
│   Application   │
│  (RPG, COBOL)   │
├─────────────────┤
│  MI Instructions│  ← Technology Independent
├─────────────────┤
│   SLIC (OS)     │  ← System Licensed Internal Code
├─────────────────┤
│  Power Hardware │
└─────────────────┘
```

**Result:** Programs from 1988 run on 2024 hardware unchanged.

## Integrated Database (DB2 for i)

### Physical Files

**Database tables** stored as system objects.

```sql
CREATE TABLE CUSTMAST (
    CUSTNO DECIMAL(8,0) NOT NULL,
    CUSTNAME CHAR(50),
    BALANCE DECIMAL(11,2),
    PRIMARY KEY (CUSTNO)
)
```

### Logical Files (Views/Indexes)

```sql
CREATE INDEX CUSTIDX ON CUSTMAST (CUSTNAME)

CREATE VIEW ACTIVECUST AS
    SELECT * FROM CUSTMAST WHERE BALANCE > 0
```

### DDS (Data Description Specifications)

**Traditional file definition** (pre-SQL):

```dds
     A          R CUSTREC
     A            CUSTNO         8S 0       TEXT('Customer Number')
     A            CUSTNAME      50A         TEXT('Customer Name')
     A            BALANCE       11S 2       TEXT('Balance')
     A          K CUSTNO
```

### SQL vs Native I/O

| Approach | Use Case |
|----------|----------|
| **SQL** | Ad-hoc queries, reports, modern apps |
| **Native I/O** | High-volume transaction processing |

Native I/O can be 10x faster for simple key lookups.

## Programming Languages

### RPG (Report Program Generator)

**Primary AS/400 language** — See [[RPG]] for details.

```rpg
**free
dcl-f CUSTMAST disk usage(*update);

dcl-ds custRec likerec(CUSTREC);

chain (custNo) CUSTMAST custRec;
if %found(CUSTMAST);
    custRec.BALANCE += payment;
    update CUSTREC custRec;
endif;
```

### CL (Control Language)

**System command scripting:**

```cl
PGM
    DCLF FILE(CUSTMAST)

    CHGJOB CCSID(37)
    CRTDUPOBJ OBJ(CUSTMAST) FROMLIB(PROD) TOLIB(TEST)
    CALL PGM(NIGHTBATCH)

    MONMSG MSGID(CPF0000) EXEC(GOTO CMDLBL(ERROR))

    SNDMSG MSG('Batch complete') TOUSR(OPERATOR)
    RETURN

ERROR:
    SNDMSG MSG('Batch failed') TOUSR(OPERATOR)
ENDPGM
```

### COBOL on IBM i

```cobol
       IDENTIFICATION DIVISION.
       PROGRAM-ID. CUSTUPD.

       ENVIRONMENT DIVISION.
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT CUSTMAST ASSIGN TO DATABASE-CUSTMAST
               ORGANIZATION IS INDEXED
               ACCESS IS RANDOM
               RECORD KEY IS CUSTNO.
```

### SQL Embedded in RPG

```rpg
**free
exec sql
    SELECT CUSTNAME, BALANCE INTO :custName, :balance
    FROM CUSTMAST
    WHERE CUSTNO = :custNo;

if sqlcode = 0;
    // Process customer
endif;
```

## Job System

### Job Types

| Type | Description |
|------|-------------|
| **Interactive** | Terminal sessions (5250) |
| **Batch** | Submitted jobs (SBMJOB) |
| **Autostart** | Start with subsystem |
| **Prestart** | Pool of waiting jobs |
| **Server** | System servers (HTTP, SQL) |

### Subsystems

**Job execution environments:**

| Subsystem | Purpose |
|-----------|---------|
| **QINTER** | Interactive jobs |
| **QBATCH** | Batch processing |
| **QSYSWRK** | System work |
| **QSERVER** | File serving |
| **QUSRWRK** | User server jobs |

### Job Queues

```cl
SBMJOB CMD(CALL NIGHTBATCH) JOB(NIGHTLY) JOBQ(QBATCH)
```

## Security

### Object-Level Security

**Granular permissions on every object:**

| Authority | Description |
|-----------|-------------|
| **\*ALL** | Full control |
| **\*CHANGE** | Read, add, update, delete |
| **\*USE** | Read and execute |
| **\*EXCLUDE** | No access |

```cl
GRTOBJAUT OBJ(CUSTMAST) OBJTYPE(*FILE) USER(WEBUSER) AUT(*USE)
```

### User Profiles

```cl
CRTUSRPRF USRPRF(NEWUSER) PASSWORD(temp123)
          USRCLS(*USER) SPCAUT(*NONE)
```

### Security Levels

| Level | Description |
|-------|-------------|
| **10** | No security (not recommended) |
| **20** | Password security |
| **30** | Resource security |
| **40** | Operating system integrity |
| **50** | Enhanced integrity (C2) |

## Modern IBM i

### ILE (Integrated Language Environment)

**Modern program model** — Procedures, modules, service programs.

```
┌─────────────────────────────────────┐
│         Service Program             │
│  ┌─────────┐  ┌─────────┐          │
│  │ Module  │  │ Module  │          │
│  │  (RPG)  │  │  (C)    │          │
│  └─────────┘  └─────────┘          │
└─────────────────────────────────────┘
```

### PASE (Portable Application Solutions Environment)

**AIX runtime on IBM i** — Run Unix/Linux binaries.

- Python, Node.js, PHP
- Open-source packages
- SSH, Git, compilers

### Web Integration

| Technology | Purpose |
|------------|---------|
| **IWS (Integrated Web Services)** | REST/SOAP from RPG |
| **Apache** | Web server (PASE) |
| **Node.js** | Modern web apps |
| **PHP** | Web scripting |

### Database Modernization

```sql
-- JSON support
SELECT JSON_OBJECT('name': CUSTNAME, 'balance': BALANCE)
FROM CUSTMAST;

-- Temporal tables
CREATE TABLE CUSTMAST (
    ...
    SYS_START TIMESTAMP(12) GENERATED ALWAYS AS ROW BEGIN,
    SYS_END TIMESTAMP(12) GENERATED ALWAYS AS ROW END,
    PERIOD SYSTEM_TIME (SYS_START, SYS_END)
) WITH SYSTEM VERSIONING;
```

## Comparison with Mainframes

| Aspect | IBM i (AS/400) | z/OS (Mainframe) |
|--------|----------------|------------------|
| **Target Market** | SMB to large enterprise | Large enterprise |
| **Database** | Integrated DB2 | Separate DB2 |
| **Complexity** | Simpler, integrated | More complex |
| **Primary Language** | RPG | COBOL |
| **Transaction Volume** | Millions/day | Billions/day |
| **Cost** | Lower | Higher |
| **Learning Curve** | Easier | Steeper |

## When to Use IBM i

### Strengths

| Strength | Rationale |
|----------|-----------|
| **Reliability** | 99.99%+ uptime common |
| **Integration** | OS, DB, security unified |
| **Backwards Compatibility** | 35+ years of code runs |
| **Security** | Object-level, no root exploits |
| **TCO** | Lower admin overhead |

### Considerations

| Consideration | Impact |
|---------------|--------|
| **Skills Gap** | Aging workforce |
| **Perception** | "Legacy" stigma |
| **Modern Tooling** | Catching up |
| **Cloud Options** | Limited (IBM Power VS) |

### Best For

- **ERP Systems** — Manufacturing, distribution
- **Financial Applications** — Banks, credit unions
- **Healthcare** — Hospital systems
- **Retail** — POS, inventory

## Related

- [[RPG]] — Primary IBM i programming language
- [[COBOL]] — Also runs on IBM i
- [[Mainframes]] — IBM's larger systems
- [[Languages MOC]] — All language references
